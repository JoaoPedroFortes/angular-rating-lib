<div class="d-flex w-100 wrap">
    <label class="d-flex w-100">
        <ng-content select="[label]"></ng-content>
    </label>

    <div class="counter-group d-flex w-100 div-svg">
        @if (type === 'star') {
            <ng-container [ngTemplateOutlet]="renderStar"></ng-container>
        }@else {
            <ng-container [ngTemplateOutlet]="renderHeart"></ng-container>
        }
    </div>
</div>

<ng-template #renderStar>
    @for (counter of counterLength; track $index; let index=$index) {
        <input type="checkbox" 
            name="{{ID_COUNTER}}{{id}}" 
            id="{{ID_COUNTER}}{{id}}-{{index}}" 
            #check (change)="setValue(index, check)"
        />
        <label for="{{ID_COUNTER}}{{id}}-{{index}}" class="d-flex">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#CDCDCD">
                    <path [ngStyle]="style(index)"
                        d="m233-120 65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Z" />
                </svg>
        </label>
    }
</ng-template>

<ng-template #renderHeart>
    @for (counter of counterLength; track $index; let index=$index) {
        <input 
            type="checkbox" 
            name="{{ID_COUNTER}}{{id}}" 
            id="{{ID_COUNTER}}{{id}}-{{index}}"
            #check (change)="setValue(index, check)" 
            />
        <label for="{{ID_COUNTER}}{{id}}-{{index}}">

            <svg xmlns="http://www.w3.(org/2000/svg" viewBox="0 -960 960 960" fill="#CDCDCD">
                <path [ngStyle]="style(index)"
                    d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Z" />
            </svg>

        </label>
    }
</ng-template>